import React, { useState } from 'react';
import { BookOpen, Download, Search, Calendar, FileText, Menu, X, Home, ChevronRight } from 'lucide-react';

const IGCSEPastPapers = () => {
  const [currentPage, setCurrentPage] = useState('home');
  const [selectedSubject, setSelectedSubject] = useState(null);
  const [searchTerm, setSearchTerm] = useState('');
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  const subjects = [
    {
      id: 'mathematics',
      name: 'Mathematics',
      code: '0580',
      papers: [
        { year: 2024, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4'] },
        { year: 2023, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4'] },
        { year: 2023, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4'] },
        { year: 2022, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4'] },
        { year: 2022, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4'] },
      ]
    },
    {
      id: 'english',
      name: 'English as a Second Language',
      code: '0510',
      papers: [
        { year: 2024, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3'] },
        { year: 2023, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2', 'Paper 3'] },
        { year: 2023, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3'] },
        { year: 2022, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2', 'Paper 3'] },
        { year: 2022, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3'] },
      ]
    },
    {
      id: 'physics',
      name: 'Physics',
      code: '0625',
      papers: [
        { year: 2024, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
        { year: 2023, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
        { year: 2023, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
        { year: 2022, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
        { year: 2022, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
      ]
    },
    {
      id: 'chemistry',
      name: 'Chemistry',
      code: '0620',
      papers: [
        { year: 2024, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
        { year: 2023, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
        { year: 2023, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
        { year: 2022, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
        { year: 2022, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
      ]
    },
    {
      id: 'biology',
      name: 'Biology',
      code: '0610',
      papers: [
        { year: 2024, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
        { year: 2023, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
        { year: 2023, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
        { year: 2022, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
        { year: 2022, session: 'May/June', variants: ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 6'] },
      ]
    },
    {
      id: 'economics',
      name: 'Economics',
      code: '0455',
      papers: [
        { year: 2024, session: 'May/June', variants: ['Paper 1', 'Paper 2'] },
        { year: 2023, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2'] },
        { year: 2023, session: 'May/June', variants: ['Paper 1', 'Paper 2'] },
        { year: 2022, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2'] },
        { year: 2022, session: 'May/June', variants: ['Paper 1', 'Paper 2'] },
      ]
    },
    {
      id: 'accounting',
      name: 'Accounting',
      code: '0452',
      papers: [
        { year: 2024, session: 'May/June', variants: ['Paper 1', 'Paper 2'] },
        { year: 2023, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2'] },
        { year: 2023, session: 'May/June', variants: ['Paper 1', 'Paper 2'] },
        { year: 2022, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2'] },
        { year: 2022, session: 'May/June', variants: ['Paper 1', 'Paper 2'] },
      ]
    },
    {
      id: 'computer-science',
      name: 'Computer Science',
      code: '0478',
      papers: [
        { year: 2024, session: 'May/June', variants: ['Paper 1', 'Paper 2'] },
        { year: 2023, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2'] },
        { year: 2023, session: 'May/June', variants: ['Paper 1', 'Paper 2'] },
        { year: 2022, session: 'Oct/Nov', variants: ['Paper 1', 'Paper 2'] },
        { year: 2022, session: 'May/June', variants: ['Paper 1', 'Paper 2'] },
      ]
    }
  ];

  const filteredSubjects = subjects.filter(subject =>
    subject.name.toLowerCase().includes(searchTerm.toLowerCase())
  );

  const HomePage = () => (
    <div className="space-y-8">
      <div className="bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-lg p-8 shadow-lg">
        <h1 className="text-4xl font-bold mb-4">IGCSE Grade 10 Past Papers</h1>
        <p className="text-xl text-blue-100">Access comprehensive past papers for all subjects</p>
      </div>

      <div className="bg-white rounded-lg shadow-md p-6">
        <div className="flex items-center gap-2 mb-4">
          <Search className="w-5 h-5 text-gray-400" />
          <input
            type="text"
            placeholder="Search subjects..."
            value={searchTerm}
            onChange={(e) => setSearchTerm(e.target.value)}
            className="flex-1 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
        </div>
      </div>

      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {filteredSubjects.map(subject => (
          <div
            key={subject.id}
            onClick={() => {
              setSelectedSubject(subject);
              setCurrentPage('subject');
            }}
            className="bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-shadow cursor-pointer border border-gray-200"
          >
            <div className="flex items-start justify-between mb-4">
              <BookOpen className="w-8 h-8 text-blue-600" />
              <span className="text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full">{subject.code}</span>
            </div>
            <h3 className="text-xl font-semibold text-gray-800 mb-2">{subject.name}</h3>
            <p className="text-gray-600 text-sm mb-4">{subject.papers.length} exam sessions available</p>
            <button className="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2">
              View Papers <ChevronRight className="w-4 h-4" />
            </button>
          </div>
        ))}
      </div>

      <div className="bg-blue-50 border border-blue-200 rounded-lg p-6">
        <h2 className="text-2xl font-semibold text-gray-800 mb-4">About IGCSE Past Papers</h2>
        <p className="text-gray-700 mb-4">
          This platform provides comprehensive access to IGCSE Grade 10 past examination papers across all major subjects. 
          Practice with authentic exam papers to prepare effectively for your IGCSE examinations.
        </p>
        <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
          <div className="bg-white p-4 rounded-lg shadow-sm">
            <Calendar className="w-6 h-6 text-blue-600 mb-2" />
            <h3 className="font-semibold mb-1">Multiple Years</h3>
            <p className="text-sm text-gray-600">Access papers from 2022-2024</p>
          </div>
          <div className="bg-white p-4 rounded-lg shadow-sm">
            <FileText className="w-6 h-6 text-blue-600 mb-2" />
            <h3 className="font-semibold mb-1">All Variants</h3>
            <p className="text-sm text-gray-600">Complete paper variants included</p>
          </div>
          <div className="bg-white p-4 rounded-lg shadow-sm">
            <Download className="w-6 h-6 text-blue-600 mb-2" />
            <h3 className="font-semibold mb-1">Easy Download</h3>
            <p className="text-sm text-gray-600">Quick access to all papers</p>
          </div>
        </div>
      </div>
    </div>
  );

  const SubjectPage = () => {
    if (!selectedSubject) return null;

    return (
      <div className="space-y-6">
        <button
          onClick={() => setCurrentPage('home')}
          className="flex items-center gap-2 text-blue-600 hover:text-blue-700"
        >
          <ChevronRight className="w-4 h-4 rotate-180" />
          Back to Subjects
        </button>

        <div className="bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-600">
          <div className="flex items-center justify-between mb-4">
            <div>
              <h1 className="text-3xl font-bold text-gray-800">{selectedSubject.name}</h1>
              <p className="text-gray-600 mt-1">Subject Code: {selectedSubject.code}</p>
            </div>
            <BookOpen className="w-12 h-12 text-blue-600" />
          </div>
        </div>

        <div className="space-y-4">
          {selectedSubject.papers.map((paper, index) => (
            <div key={index} className="bg-white rounded-lg shadow-md p-6 border border-gray-200">
              <div className="flex items-center justify-between mb-4">
                <div>
                  <h3 className="text-xl font-semibold text-gray-800">{paper.year} - {paper.session}</h3>
                  <p className="text-gray-600 text-sm mt-1">{paper.variants.length} papers available</p>
                </div>
                <Calendar className="w-6 h-6 text-gray-400" />
              </div>
              
              <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3">
                {paper.variants.map((variant, vIndex) => (
                  <button
                    key={vIndex}
                    className="flex items-center justify-between bg-gray-50 hover:bg-blue-50 border border-gray-200 hover:border-blue-300 rounded-lg p-3 transition-colors"
                  >
                    <div className="flex items-center gap-2">
                      <FileText className="w-4 h-4 text-blue-600" />
                      <span className="text-sm font-medium">{variant}</span>
                    </div>
                    <Download className="w-4 h-4 text-gray-400" />
                  </button>
                ))}
              </div>

              <div className="mt-4 pt-4 border-t border-gray-200">
                <button className="text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center gap-2">
                  <Download className="w-4 h-4" />
                  Download All Papers & Mark Schemes
                </button>
              </div>
            </div>
          ))}
        </div>
      </div>
    );
  };

  const AboutPage = () => (
    <div className="space-y-6">
      <div className="bg-white rounded-lg shadow-md p-8">
        <h1 className="text-3xl font-bold text-gray-800 mb-6">About This Platform</h1>
        
        <div className="prose max-w-none text-gray-700 space-y-4">
          <p>
            Welcome to the IGCSE Grade 10 Past Papers resource center. This platform is designed to help students 
            prepare effectively for their IGCSE examinations by providing easy access to past examination papers.
          </p>
          
          <h2 className="text-2xl font-semibold text-gray-800 mt-6 mb-3">What We Offer</h2>
          <ul className="list-disc pl-6 space-y-2">
            <li>Comprehensive collection of past papers from 2022 to 2024</li>
            <li>All major IGCSE subjects covered</li>
            <li>Multiple exam sessions (May/June and October/November)</li>
            <li>All paper variants included</li>
            <li>Mark schemes and examiner reports</li>
          </ul>

          <h2 className="text-2xl font-semibold text-gray-800 mt-6 mb-3">How to Use</h2>
          <ol className="list-decimal pl-6 space-y-2">
            <li>Select your subject from the home page</li>
            <li>Choose the exam session and year</li>
            <li>Download individual papers or complete sets</li>
            <li>Practice under timed conditions for best results</li>
          </ol>

          <h2 className="text-2xl font-semibold text-gray-800 mt-6 mb-3">Exam Tips</h2>
          <div className="bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4">
            <p className="font-semibold mb-2">Maximize your preparation:</p>
            <ul className="list-disc pl-6 space-y-1">
              <li>Complete papers under exam conditions</li>
              <li>Review mark schemes carefully</li>
              <li>Identify common question patterns</li>
              <li>Focus on topics that frequently appear</li>
              <li>Practice time management</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  );

  return (
    <div className="min-h-screen bg-gray-50">
      <nav className="bg-white shadow-md sticky top-0 z-50">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex justify-between items-center h-16">
            <div className="flex items-center gap-3">
              <BookOpen className="w-8 h-8 text-blue-600" />
              <span className="text-xl font-bold text-gray-800">IGCSE Papers</span>
            </div>

            <div className="hidden md:flex items-center space-x-8">
              <button
                onClick={() => setCurrentPage('home')}
                className={`flex items-center gap-2 ${currentPage === 'home' ? 'text-blue-600' : 'text-gray-600 hover:text-gray-800'}`}
              >
                <Home className="w-4 h-4" />
                Home
              </button>
              <button
                onClick={() => setCurrentPage('about')}
                className={`${currentPage === 'about' ? 'text-blue-600' : 'text-gray-600 hover:text-gray-800'}`}
              >
                About
              </button>
            </div>

            <button
              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
              className="md:hidden"
            >
              {mobileMenuOpen ? <X className="w-6 h-6" /> : <Menu className="w-6 h-6" />}
            </button>
          </div>

          {mobileMenuOpen && (
            <div className="md:hidden py-4 space-y-2">
              <button
                onClick={() => {
                  setCurrentPage('home');
                  setMobileMenuOpen(false);
                }}
                className="block w-full text-left px-4 py-2 text-gray-600 hover:bg-gray-100 rounded"
              >
                Home
              </button>
              <button
                onClick={() => {
                  setCurrentPage('about');
                  setMobileMenuOpen(false);
                }}
                className="block w-full text-left px-4 py-2 text-gray-600 hover:bg-gray-100 rounded"
              >
                About
              </button>
            </div>
          )}
        </div>
      </nav>

      <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        {currentPage === 'home' && <HomePage />}
        {currentPage === 'subject' && <SubjectPage />}
        {currentPage === 'about' && <AboutPage />}
      </main>

      <footer className="bg-gray-800 text-white mt-16">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
              <h3 className="text-lg font-semibold mb-4">IGCSE Past Papers</h3>
              <p className="text-gray-400 text-sm">
                Your comprehensive resource for IGCSE Grade 10 examination preparation.
              </p>
            </div>
            <div>
              <h3 className="text-lg font-semibold mb-4">Quick Links</h3>
              <ul className="space-y-2 text-sm text-gray-400">
                <li><a href="#" className="hover:text-white">All Subjects</a></li>
                <li><a href="#" className="hover:text-white">Recent Papers</a></li>
                <li><a href="#" className="hover:text-white">Study Tips</a></li>
              </ul>
            </div>
            <div>
              <h3 className="text-lg font-semibold mb-4">Support</h3>
              <ul className="space-y-2 text-sm text-gray-400">
                <li><a href="#" className="hover:text-white">Contact Us</a></li>
                <li><a href="#" className="hover:text-white">FAQ</a></li>
                <li><a href="#" className="hover:text-white">Privacy Policy</a></li>
              </ul>
            </div>
          </div>
          <div className="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400 text-sm">
            <p>&copy; 2024 IGCSE Past Papers. Educational resource for students.</p>
          </div>
        </div>
      </footer>
    </div>
  );
};

export default IGCSEPastPapers;
      
